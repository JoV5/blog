# 第5章 字符串和正则表达式
## 字符串连接
有多种方法可以合并字符串
| 方法 | 实例
| :-: | :-:
| The + operator | str = "a" + "b"
| The += operator | str += "a"
| array.join() | str = ["a", "b"].join("")
| string.concat() | str = str.concat("b", "c")

### 加（+）和加等（+=）操作符
这是一个连接字符串的常用方法：
```js
str += "one" + "two";
```
此代码运行时，会经历四个步骤：
1. 在内存中创建一个临时字符串。
2. 连接后的字符串“onetwo”被赋值给该临时字符串。
3. 临时字符串与str当前的值连接。
4. 结果赋值给str。

以下代码用两行语句直接附加内容给str，从而避免了产生临时字符串。
```js
str += "one";
str += "two";
```
可以用一个语句达到同样的性能提升。
```js
str = str + "one" + "two";
```
对于IE8之前的浏览器，上述方法会使代码更慢，因为在于一个长的基础字符串合并前先连接多个短字符串会使速度更快（避免了多次赋值大字符串）。

#### Firefox和编译器合并
在复制表达式中所有要连接的字符串都属于编译器期常量，Firefox会在编译过程中自动合并它们。但这经常不起作用，因为更多的时候是用运行期的数据构建字符串，而不是用编译器常常量。

### 数组项合并
`Array.prototype.join`方法将数组的所有元素合并成一个字符串，它接受一个字符串参数作为分隔符插入每个元素的中间。如果传入的分隔符为空字符，可以简单地将数组所有元素连接起来。

在大多数浏览器中，数组项合并比其他字符串连接方法更慢。但这是在IE
7及更早版本浏览器中合并大量字符串唯一的高效的途径。

### String.prototype.concat
字符串的原生方法concat能接受任意数量的参数，并将每一个参数附加到所调用的字符串上。这是最灵活的字符串合并方法。因为你可以用它只附加一个字符串，或者同时附加多个字符串，以至整个字符串数组。

在多数情况下，使用concat比使用简单的 + 和 += 稍慢，尤其在IE、Opera、Chrome中。 

## 正则表达式优化 TODO
### 正则表达式工作原理
下面是一个正则表达式处理的基本步骤：
1. 编译
    当你创建了一个正则表达式对象（使用正则直接量或RegExp构造函数），浏览器会验证你的表达式，然后把它转化为一个原生代码程序，用于执行匹配工作。如果你把正则对象赋值给一个变量，可以避免重复执行这一步骤。
2. 设置起始位置
    当正则类进入使用状态，首先要确定目标字符串的其实搜索位置。它是字符串的起始字符，赖活着由正则表达式的lastIndex属性指定，但是当它从第四步返回到这里时（由于尝试匹配失败），此位置则在最后一次匹配的起始位置的下一位字符的位置上。
3. 匹配每个正则表达式字元
    一旦正则表达式知道开始位置，它会逐个检查文本和正则表达式模式。当一个特地你个的字元匹配失败时，正则表达式会试着回溯到之前尝试匹配的位置上，然后尝试其他可能的途径。
4. 匹配成功或失败
    如果在字符串当前的位置发现了一个完全匹配，那么正则表达式宣布匹配成功。如果正则表达式所有的可能路径都没有匹配到，正则表达式引擎会回退到第二步，然后从下一个字符重新尝试。当字符串的每个字符（以及最后一个字符串的后面的位置）都经历这个过程，如果还没有成功匹配，那么正则表达式就宣布彻底匹配失败。


## 去除字符串首位空白

